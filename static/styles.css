/* --- CSS –ü–ï–†–ï–ú–ï–ù–ù–´–ï --- */
:root {
--primary-color: #88d100;
--primary-text: #000000;
--bg-color: #F7F8F5;
--card-bg: #ffffff;
--text-main: #111111;
--text-secondary: #6b7280;
--input-bg: #ffffff;
--border-color: #eee;
--font-logo: 'Bebas Neue', cursive;
--font-title: 'Oswald', sans-serif;
--font-body: 'Montserrat', sans-serif;
--header-height: 75px;
}

/* YANDEX WIDGET STYLES */
.yandex-widget-container { padding: 0 15px 10px 15px; }
#collapsible-header { display: grid; grid-template-rows: 1fr; opacity: 1; transition: grid-template-rows 0.3s ease-out, opacity 0.3s ease-out; }
#collapsible-header.collapsed { grid-template-rows: 0fr; opacity: 0; pointer-events: none; margin-bottom: -5px; }
.collapsible-inner { overflow: hidden; min-height: 0; }
.yandex-widget-header { font-size: 13px; font-weight: 600; color: var(--text-secondary); cursor: pointer; display: flex; align-items: center; gap: 6px; transition: color 0.2s; font-family: var(--font-body); }
.yandex-widget-header:active { opacity: 0.7; }
.yandex-widget-arrow { font-size: 10px; transition: transform 0.2s; }
.yandex-widget-content { margin-top: 15px; overflow: visible; display: none; justify-content: center; padding-bottom: 5px; }
.iframe-wrapper { width: 230px; height: 80px; position: relative; margin: 0 auto; display: flex; align-items: center; justify-content: center; }
.iframe-wrapper iframe { width: 150px; height: 50px; border: 0; transform: scale(1.5); transform-origin: center center; }

/* Logic for light/dark iframe switching */
.yandex-light { display: block; }
.yandex-dark { display: none; }

@media (prefers-color-scheme: dark) {
    :root { --bg-color: #1a1a1a; --card-bg: #2d2d2d; --text-main: #ffffff; --text-secondary: #a0a0a0; --input-bg: #333333; --border-color: #444444; }
    .header-container { background: #2d2d2d !important; }
    .logo-coffee { color: #ffffff !important; }
    .status-badge { background: #064e3b; color: #a7f3d0; }
    .radio-label, .checkout-radio-label { background: #333 !important; border-color: #444 !important; color: #fff !important; }
    .radio-input:checked + .radio-label, .checkout-radio-input:checked + .checkout-radio-label { background: #064e3b !important; border-color: var(--primary-color) !important; }
    .category-separator { color: var(--text-main); }
    .accordion-header { background: #333 !important; color: #fff !important; }
    .repeat-card { background: #333 !important; border-color: #444 !important; }
    .upsell-no { background: #444 !important; color: #ccc !important; }
    .cart-qty-btn { background: #444 !important; color: #fff !important; }
    .qty-control-btn { background: #444 !important; color: #fff !important; }
    .yandex-light { display: none; }
    .yandex-dark { display: block; }
}

/* --- –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò --- */
body { font-family: var(--font-body); margin: 0; padding: 0; background-color: var(--bg-color); color: var(--text-main); padding-bottom: 100px; -webkit-tap-highlight-color: transparent; font-weight: 500; transition: background-color 0.3s, color 0.3s; overscroll-behavior-y: none; }

/* –®–ê–ü–ö–ê */
.header-container { background: white; position: sticky; top: 0; z-index: 40; box-shadow: 0 4px 20px rgba(0,0,0,0.05); padding-bottom: 5px; transition: background 0.3s; }
header { padding: 12px 15px 10px 15px; display: flex; justify-content: space-between; align-items: flex-start; }
.header-left { display: flex; flex-direction: column; }
h1 { margin: 0; font-family: var(--font-logo); font-size: 34px; letter-spacing: 1px; line-height: 1; text-transform: uppercase; }
.logo-coffee { color: var(--text-main); } .logo-moll { color: var(--primary-color); }
.separator-line { width: 141px; height: 3px; background-color: var(--primary-color); margin: 3px 0; border-radius: 2px; }
.motto { font-size: 11px; color: var(--text-secondary); margin-top: 4px; font-weight: 600; max-width: 180px; transition: opacity 0.3s ease; }
.status-badge { font-family: var(--font-body); font-size: 11px; padding: 4px 8px; border-radius: 12px; font-weight: bold; background: #e6fffa; color: #047857; margin-left: 10px;}

/* –ü–û–ò–°–ö */
.search-wrapper { padding: 0 15px 10px 15px; overflow: hidden; }
#search-input { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid var(--border-color); background: var(--input-bg); color: var(--text-main); font-size: 15px; outline: none; box-sizing: border-box; font-family: var(--font-body); transition: all 0.2s;}
#search-input:focus { border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(136, 209, 0, 0.2); }

/* –ö–ù–û–ü–ö–ê –ü–û–í–¢–û–†–ê */
#repeat-order-container { padding: 0 15px 10px 15px; display: none; overflow: hidden; }
.repeat-card { background: var(--card-bg); border: 1px solid var(--primary-color); border-radius: 12px; padding: 12px; display: flex; align-items: center; justify-content: space-between; cursor: pointer; box-shadow: 0 2px 5px rgba(136, 209, 0, 0.1); }
.repeat-card:active { transform: scale(0.98); }
.repeat-info { display: flex; flex-direction: column; gap: 2px; overflow: hidden; }
.repeat-title { font-size: 13px; font-weight: 700; color: var(--primary-color); text-transform: uppercase; font-family: var(--font-title); }
.repeat-desc { font-size: 12px; color: var(--text-secondary); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 200px;}

/* –ù–ê–í–ò–ì–ê–¶–ò–Ø */
.nav-scroller { overflow-x: auto; white-space: nowrap; padding: 5px 15px 15px 15px; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
.nav-scroller::-webkit-scrollbar { display: none; }
.nav-btn { display: inline-block; padding: 8px 16px; margin-right: 8px; background: var(--input-bg); border-radius: 20px; font-size: 14px; font-weight: 600; color: var(--text-secondary); text-decoration: none; border: 1px solid var(--border-color); transition: all 0.3s; font-family: var(--font-body); }
.nav-btn.active { background: #000000; color: var(--primary-color); border-color: #000000; transform: scale(1.05); }

/* –ö–ê–†–¢–û–ß–ö–ò */
.category-section { margin-bottom: 10px; scroll-margin-top: 140px; }
.category-separator { padding: 0 15px; margin-bottom: 10px; font-size: 24px; font-weight: 700; color: var(--text-main); font-family: var(--font-title); text-transform: uppercase; padding-left: 25px; border-left: 4px solid var(--primary-color); margin-left: 10px; }
.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 0 12px; }
.card { background: var(--card-bg); border-radius: 16px; padding: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.03); display: flex; flex-direction: column; justify-content: space-between; transition: transform 0.1s; position: relative; cursor: pointer; border: 1px solid transparent; overflow: hidden;}
.card:active { transform: scale(0.97); }
.card-img-container { width: 100%; height: 110px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; position: relative; background: #f9f9f9; overflow: hidden;}
.card-skeleton { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
.card img { width: 100%; height: 100%; object-fit: contain; opacity: 0; transition: opacity 0.4s ease-out; }
.card img.loaded { opacity: 1; }
.card.unavailable { opacity: 0.6; filter: grayscale(0.8); pointer-events: none; }
.fav-btn { position: absolute; top: 8px; left: 8px; z-index: 25; font-size: 18px; color: #ccc; transition: 0.2s; background: rgba(255,255,255,0.9); border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.fav-btn.active { color: #ef4444; }
.card-badge { position: absolute; top: 8px; right: 8px; background: var(--primary-color); color: #000; font-size: 10px; font-weight: 700; padding: 4px 8px; border-radius: 6px; z-index: 20; font-family: var(--font-title); }
.unavailable-badge { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.6); display: flex; align-items: center; justify-content: center; font-weight: bold; color: #ef4444; font-size: 14px; text-transform: uppercase; border-radius: 12px; transform: rotate(-15deg); z-index: 10; text-shadow: 0 0 2px white; }
.card h3 { margin: 0 0 5px 0; font-family: var(--font-title); font-size: 16px; font-weight: 700; line-height: 1.2; }
.card .desc { font-size: 11px; color: var(--text-secondary); margin-bottom: 8px; line-height: 1.35; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
.price-row { display: flex; justify-content: space-between; align-items: center; margin-top: auto; }
.price { font-weight: 700; font-size: 15px; color: var(--text-main); font-family: var(--font-body); }
.add-btn { background-color: var(--primary-color); color: #000; border: none; border-radius: 8px; padding: 6px 10px; font-weight: 700; font-size: 11px; font-family: var(--font-title); text-transform: uppercase; min-width: 70px; }

/* MODAL & CHECKOUT */
.modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1000; align-items: flex-end; justify-content: center; backdrop-filter: blur(4px); }
.modal-content { background: var(--card-bg); width: 100%; max-width: 500px; border-radius: 24px 24px 0 0; padding: 25px 20px; box-sizing: border-box; max-height: 90vh; overflow-y: auto; animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1); position: relative; }
.close-icon { position: absolute; top: 20px; right: 20px; width: 32px; height: 32px; background: #f3f4f6; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #333; font-size: 18px; z-index: 50; }
.modal-header { margin-bottom: 15px; border-bottom: none; padding-bottom: 0; display: block; text-align: center;}
.modal-title-block { flex: 1; }
.modal-title { font-family: var(--font-title); font-size: 22px; font-weight: 700; letter-spacing: 0.5px; line-height: 1.2; color: var(--text-main); }
.modal-desc { font-size: 13px; color: var(--text-secondary); margin-top: 8px; line-height: 1.5; font-family: var(--font-body); }
.modal-img-wrapper { width: 100%; height: 180px; border-radius: 12px; overflow: hidden; margin-bottom: 15px; background: #f9fafb; display: flex; align-items: center; justify-content: center; }
.modal-img { width: 100%; height: 100%; object-fit: contain; background-color: #fff; }
.accordion { margin-bottom: 15px; border-radius: 12px; overflow: hidden; border: 1px solid var(--border-color); }
.accordion-header { background: #f9fafb; padding: 12px 15px; font-weight: 700; font-size: 14px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; color: var(--text-main); font-family: var(--font-body); }
.accordion-content { display: none; padding: 15px; border-top: 1px solid var(--border-color); background: var(--card-bg); }
.accordion-arrow { transition: transform 0.2s; }
.accordion.open .accordion-content { display: block; }
.accordion.open .accordion-arrow { transform: rotate(180deg); }
.option-group { margin-bottom: 20px; }
.option-label { font-weight: 700; margin-bottom: 8px; display: block; font-size: 14px; color: var(--text-main); font-family: var(--font-body); }
.radio-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; width: 100%; }
.radio-label, .checkout-radio-label { display: flex; align-items: center; padding: 10px 15px; background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; cursor: pointer; font-size: 13px; color: var(--text-main); transition: 0.2s; min-height: 48px; box-sizing: border-box; width: 100%; position: relative; }
.radio-label::before, .checkout-radio-label::before { content: ''; display: inline-block; width: 16px; height: 16px; border: 2px solid #d1d5db; border-radius: 50%; margin-right: 10px; box-sizing: border-box; flex-shrink: 0; transition: 0.2s; }
.radio-input, .checkout-radio-input { display: none; }
.radio-input:checked + .radio-label, .checkout-radio-input:checked + .checkout-radio-label { background-color: #f0fdf4; border-color: var(--primary-color); color: #000; box-shadow: 0 2px 4px rgba(136, 209, 0, 0.15); font-weight: 600; }
.radio-input:checked + .radio-label::before, .checkout-radio-input:checked + .checkout-radio-label::before { border-color: var(--primary-color); background-color: var(--primary-color); box-shadow: inset 0 0 0 3px #fff; }
.checkout-radio-group { display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 10px !important; width: 100% !important; }
.main-btn { position: fixed; bottom: 20px; left: 15px; right: 15px; background: #000000; color: var(--primary-color); padding: 18px; border-radius: 16px; text-align: center; font-size: 16px; font-weight: 700; box-shadow: 0 10px 25px rgba(0,0,0,0.15); display: none; z-index: 900; font-family: var(--font-title); letter-spacing: 1px; transition: transform 0.1s; }
.main-btn:active { transform: scale(0.98); }
.modal-add-btn { background: var(--primary-color); color: #000; width: 100%; padding: 16px; border: none; border-radius: 14px; font-size: 16px; font-weight: 800; cursor: pointer; font-family: var(--font-title); letter-spacing: 0.5px; transition: opacity 0.3s; }
.modal-add-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.modal-footer { margin-top: 20px; display: flex; gap: 10px; align-items: center; }
.qty-control-modal { display: flex; align-items: center; background: var(--input-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 5px; height: 52px; box-sizing: border-box; }
.qty-control-btn { width: 36px; height: 100%; border: none; background: transparent; font-size: 18px; font-weight: bold; cursor: pointer; color: var(--text-main); display: flex; align-items: center; justify-content: center; }
.qty-control-val { width: 30px; text-align: center; font-weight: bold; font-size: 16px; color: var(--text-main); }
.cart-item { background: var(--input-bg); border-radius: 12px; padding: 12px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border-color); }
.cart-qty-btn { width: 32px; height: 32px; background: #f3f4f6; border-radius: 8px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; color: #333; }
.cart-del-btn { color: #ef4444; padding: 0 10px; cursor: pointer; font-size: 18px; display: flex; align-items: center; height: 32px; }
.loading-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: var(--bg-color); z-index:2000; display:flex; align-items:center; justify-content:center; flex-direction: column; text-align: center;}
.spinner { border: 4px solid #eee; border-top: 4px solid var(--primary-color); border-radius: 50%; width: 50px; height: 50px; animation: spin 0.8s linear infinite; margin-bottom: 20px;}
.loading-motto { font-size: 13px; color: #666; font-style: italic; font-family: var(--font-body); transition: opacity 0.3s ease; }
#toast-container { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); z-index: 2100; display: flex; flex-direction: column; gap: 8px; width: auto; pointer-events: none; }
.toast { background: rgba(30, 30, 30, 0.9); color: white; padding: 10px 20px; border-radius: 25px; font-size: 13px; font-weight: 600; text-align: center; backdrop-filter: blur(5px); animation: fadeUp 0.3s forwards; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
.clear-cart-btn { background: transparent; border: 1px solid #ef4444; color: #ef4444; padding: 8px 15px; border-radius: 10px; font-size: 12px; font-weight: bold; margin-bottom: 15px; align-self: flex-end; cursor: pointer; }
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
@keyframes fadeUp { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
@keyframes pop { 0% { transform: scale(0); } 70% { transform: scale(1.2); } 100% { transform: scale(1); } }
@keyframes popIn{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}
input, textarea, select { font-family: var(--font-body); width: 100%; padding: 12px; border-radius: 12px; border: 1px solid var(--border-color); font-size: 14px; box-sizing: border-box; background: var(--input-bg); margin-bottom: 10px; color: var(--text-main); transition: border-color 0.2s; }
input:focus, textarea:focus, select:focus { border-color: var(--primary-color); outline: none; }
select { appearance: none; -webkit-appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2388d100' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 15px center; background-size: 16px; }
.checkbox-row { display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-top: 1px solid var(--border-color); font-family: var(--font-body); color: var(--text-main); }
.toggle-switch { position: relative; display: inline-block; width: 46px; height: 24px; }
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary-color); }
input:checked + .slider:before { transform: translateX(22px); }
.warning-box { background: #fee2e2; color: #991b1b; padding: 12px; border-radius: 10px; font-size: 13px; margin-bottom: 15px; display: none; border: 1px solid #fecaca; line-height: 1.4; font-family: var(--font-body); }
.info-box { background: #e0f2fe; color: #075985; padding: 12px; border-radius: 10px; font-size: 13px; margin-bottom: 15px; display: none; border: 1px solid #bae6fd; line-height: 1.4; font-family: var(--font-body); }
.delivery-warning { font-size: 13px; color: #d97706; background: #fef3c7; padding: 8px; border-radius: 8px; margin-top: 5px; display: none; font-family: var(--font-body); }
.upsell-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1100; align-items: center; justify-content: center; }
.upsell-content { background: var(--card-bg); width: 85%; max-width: 350px; border-radius: 16px; padding: 20px; text-align: center; animation: popIn 0.3s; }
.upsell-img { width: 80px; height: 80px; object-fit: contain; margin-bottom: 10px; }
.upsell-btn-row { display: flex; gap: 10px; margin-top: 15px; justify-content: center; }
.upsell-yes { background: #88d100; color: #3e2723; padding: 10px 20px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; flex: 1;}
.upsell-title { font-family: var(--font-title); margin: 0 0 10px 0; letter-spacing: 0.5px; font-size: 20px; font-weight: 700; color: var(--text-main); }
.upsell-product { font-family: var(--font-title); font-weight: 700; margin-bottom: 5px; letter-spacing: 0.5px; font-size: 18px; color: var(--text-main); }
.upsell-desc { font-size: 14px; color: var(--text-secondary); margin-bottom: 15px; }

/* DECORATIONS */
.garland { position: absolute; top: 0; left: 0; width: 100%; height: 30px; z-index: 45; display: flex; justify-content: space-around; overflow: hidden; pointer-events: none; }
.light { width: 10px; height: 10px; border-radius: 50%; background: #ccc; margin-top: -5px; animation: flash 2s infinite alternate; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
.light:nth-child(2n) { animation-duration: 1.5s; animation-delay: 0.5s; }
.light:nth-child(3n) { animation-duration: 2.5s; animation-delay: 1s; }
.light:nth-child(4n) { animation-duration: 1.8s; animation-delay: 0.2s; }
.light.red { background: #ff4444; box-shadow: 0 0 5px #ff4444; }
.light.gold { background: #ffd700; box-shadow: 0 0 5px #ffd700; }
.light.green { background: #88d100; box-shadow: 0 0 5px #88d100; }
.light.blue { background: #4488ff; box-shadow: 0 0 5px #4488ff; }
@keyframes flash { 0% { opacity: 0.5; transform: scale(0.8); } 100% { opacity: 1; transform: scale(1.1); box-shadow: 0 0 10px currentColor; } }
.logo-coffee { position: relative; display: inline-block; }
.logo-coffee::after { content: 'üéÖ'; position: absolute; top: -15px; left: -10px; font-size: 24px; transform: rotate(-15deg); pointer-events: none; }
.snowflake { position: fixed; top: -10px; color: #b0dfff; font-size: 1em; font-family: Arial, sans-serif; text-shadow: 0 0 1px #000; user-select: none; z-index: 9999; pointer-events: none; animation-name: fall; animation-timing-function: linear; animation-iteration-count: infinite; opacity: 0.8; }
@keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }
