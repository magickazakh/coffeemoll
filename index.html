<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–µ–Ω—é –ö–æ—Ñ–µ–π–Ω–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>window.onerror = function(msg, url, line) { return false; };</script>
    <style>
        /* --- –°–¢–ò–õ–ò --- */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; background-color: #f3f4f6; color: #1f2937; padding-bottom: 100px; -webkit-tap-highlight-color: transparent; }
        
        .header-container { background: white; position: sticky; top: 0; z-index: 40; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        header { padding: 15px 15px 10px 15px; display: flex; justify-content: space-between; align-items: center;}
        h1 { margin: 0; font-size: 18px; font-weight: 800; color: #111; }
        .status-badge { font-size: 12px; padding: 4px 8px; border-radius: 12px; font-weight: bold; }
        .status-open { background: #e6fffa; color: #047857; }
        .status-closed { background: #fef2f2; color: #b91c1c; }

        .search-wrapper { padding: 0 15px 10px 15px; }
        #search-input { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid #eee; background: #f9fafb; font-size: 14px; outline: none; transition: 0.2s; margin: 0; box-sizing: border-box; }
        #search-input:focus { border-color: #FFD54F; background: #fff; }

        .nav-scroller { overflow-x: auto; white-space: nowrap; padding: 5px 15px 15px 15px; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
        .nav-scroller::-webkit-scrollbar { display: none; }
        .nav-btn { display: inline-block; padding: 8px 16px; margin-right: 8px; background: #f3f4f6; border-radius: 20px; font-size: 13px; font-weight: 600; color: #4b5563; text-decoration: none; border: 1px solid transparent; transition: 0.2s; }
        .nav-btn.active { background: #3e2723; color: white; border-color: #3e2723; }

        .category-section { margin-bottom: 20px; scroll-margin-top: 140px; }
        .category-title { padding: 15px 15px 5px 15px; font-size: 20px; font-weight: 800; color: #374151; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        .card { background: white; border-radius: 16px; padding: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); display: flex; flex-direction: column; justify-content: space-between; transition: transform 0.1s; position: relative; }
        .card:active { transform: scale(0.98); }
        .card-img-container { width: 100%; height: 100px; background: #f9fafb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; overflow: hidden; position: relative;}
        .card img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.3s; opacity: 0; }
        .card img.loaded { opacity: 1; }
        
        .card.unavailable { opacity: 0.6; background-color: #f9fafb; pointer-events: none; }
        .unavailable-badge { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.6); display: flex; align-items: center; justify-content: center; font-weight: bold; color: #ef4444; font-size: 14px; text-transform: uppercase; border-radius: 12px; transform: rotate(-15deg); z-index: 10; text-shadow: 0 0 2px white; }

        .card h3 { margin: 0 0 5px 0; font-size: 14px; font-weight: 600; line-height: 1.3; }
        .card .desc { font-size: 11px; color: #6b7280; margin-bottom: 8px; line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .price-row { display: flex; justify-content: space-between; align-items: center; margin-top: auto; }
        .price { font-weight: 700; font-size: 15px; color: #111; }
        
        .add-btn { background-color: #FFD54F; color: #3e2723; border: none; border-radius: 8px; padding: 6px 12px; font-weight: 600; font-size: 12px; cursor: pointer; }
        .add-btn:disabled { background-color: #e5e7eb; color: #9ca3af; cursor: not-allowed; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: flex-end; justify-content: center; }
        .modal-content { background: white; width: 100%; max-width: 500px; border-radius: 20px 20px 0 0; padding: 20px; box-sizing: border-box; max-height: 90vh; overflow-y: auto; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        .modal-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .modal-title-block { flex: 1; }
        .modal-title { font-size: 18px; font-weight: bold; }
        .modal-desc { font-size: 13px; color: #666; margin-top: 4px; line-height: 1.4; }
        .close-icon { font-size: 24px; cursor: pointer; color: #888; padding: 0 0 10px 10px; }

        .upsell-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1100; align-items: center; justify-content: center; }
        .upsell-content { background: white; width: 85%; max-width: 350px; border-radius: 16px; padding: 20px; text-align: center; animation: popIn 0.3s; }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .upsell-img { width: 80px; height: 80px; object-fit: contain; margin-bottom: 10px; }
        .upsell-btn-row { display: flex; gap: 10px; margin-top: 15px; justify-content: center; }
        .upsell-yes { background: #FFD54F; color: #3e2723; padding: 10px 20px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; flex: 1;}
        .upsell-no { background: #f3f4f6; color: #666; padding: 10px 20px; border-radius: 10px; border: none; cursor: pointer; flex: 1;}

        .option-group { margin-bottom: 15px; }
        .option-label { font-weight: 600; margin-bottom: 8px; display: block; font-size: 14px; color: #444; }
        
        .radio-group { display: flex; gap: 10px; flex-wrap: wrap; }
        .radio-label { flex: 1; text-align: center; padding: 10px; border: 1px solid #ddd; border-radius: 10px; cursor: pointer; font-size: 13px; transition: 0.2s; min-width: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center;}
        .radio-input { display: none; }
        .radio-input:checked + .radio-label { background-color: #FFD54F; border-color: #FFD54F; color: #3e2723; font-weight: bold; }
        
        select, input[type="text"], input[type="number"], input[type="tel"], textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-size: 16px; box-sizing: border-box; -webkit-appearance: none; background: #fff; margin-bottom: 10px; font-family: inherit; }
        textarea { resize: none; height: 60px; }

        .checkbox-row { display: flex; align-items: center; justify-content: space-between; padding: 8px 0; border-top: 1px solid #eee; }
        .toggle-switch { position: relative; display: inline-block; width: 46px; height: 24px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #FFD54F; }
        input:checked + .slider:before { transform: translateX(22px); }

        .modal-footer { margin-top: 20px; display: flex; gap: 10px; }
        .modal-add-btn { background: #2ecc71; color: white; width: 100%; padding: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: bold; cursor: pointer; }
        .modal-add-btn:disabled { background: #ccc; cursor: not-allowed; }
        .main-btn { position: fixed; bottom: 15px; left: 15px; right: 15px; background: #2ecc71; color: white; padding: 16px; border-radius: 14px; text-align: center; font-size: 16px; font-weight: 700; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.4); display: none; z-index: 900; }
        
        .cart-item { background: #f9fafb; border-radius: 10px; padding: 10px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        .cart-item-info { flex: 1; }
        .cart-item-title { font-weight: bold; font-size: 14px; margin-bottom: 2px; }
        .cart-item-opts { font-size: 11px; color: #666; }
        .cart-item-price { font-weight: bold; margin: 0 10px; font-size: 14px; }
        .cart-del-btn { color: #ef4444; padding: 5px 10px; cursor: pointer; font-size: 20px; }

        .checkout-total { font-size: 18px; font-weight: bold; margin-top: 15px; text-align: right; border-top: 2px solid #eee; padding-top: 10px; }
        .delivery-warning { font-size: 13px; color: #d97706; background: #fef3c7; padding: 8px; border-radius: 8px; margin-top: 5px; display: none; }
        .contact-note { font-size: 12px; color: #6b7280; margin-top: 15px; display: flex; gap: 5px; align-items: flex-start; }
    </style>
</head>
<body>

<div class="header-container">
    <header>
        <h1 id="header-title">–ö–æ—Ñ–µ–º–æ–ª–∫–∞ –ú–µ–Ω—é</h1>
        <div id="work-status" class="status-badge">Checking...</div>
    </header>

    <div class="search-wrapper">
        <input type="text" id="search-input" placeholder="üîç –ù–∞–π—Ç–∏ –∫–æ—Ñ–µ, –µ–¥—É..." oninput="filterMenu()">
    </div>

    <div class="nav-scroller" id="nav-container"></div>
</div>

<div id="app"></div>

<div class="main-btn" id="cart-btn" onclick="openCheckout()">–ö –∫–æ—Ä–∑–∏–Ω–µ</div>

<div class="modal-overlay" id="product-modal" onclick="closeProductModal(event)">
    <div class="modal-content" id="product-modal-content"></div>
</div>

<div class="modal-overlay" id="checkout-modal">
    <div class="modal-content">
        <div class="modal-header">
            <div class="modal-title">–í–∞—à –∑–∞–∫–∞–∑</div>
            <div class="close-icon" onclick="closeCheckout()">‚úï</div>
        </div>
        <div id="cart-list-container"></div>
        <div class="checkout-total" id="checkout-total-sum">–ò—Ç–æ–≥–æ: 0 ‚Ç∏</div>
        <div style="margin-top: 20px; border-top: 5px solid #f3f4f6; margin-left: -20px; margin-right: -20px;"></div>
        <h3 style="margin: 15px 0 10px 0; font-size: 16px;">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</h3>
        <div class="option-group"><label class="option-label">–í–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</label><input type="text" id="client-name" placeholder="–í–∞—à–µ –∏–º—è"><input type="tel" id="client-phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (+7...)"></div>
        <div class="option-group">
            <label class="option-label">–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è</label>
            <div class="radio-group">
                <input type="radio" name="deliveryType" id="d-pickup" class="radio-input" value="pickup" checked onchange="toggleDelivery()"><label for="d-pickup" class="radio-label">üö∂ –°–∞–º–æ–≤—ã–≤–æ–∑</label>
                <input type="radio" name="deliveryType" id="d-delivery" class="radio-input" value="delivery" onchange="toggleDelivery()"><label for="d-delivery" class="radio-label">üöó –î–æ—Å—Ç–∞–≤–∫–∞</label>
            </div>
            <div id="delivery-msg" class="delivery-warning">‚ö†Ô∏è –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ <b>–æ—Ç 600 ‚Ç∏</b> (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞ –≤ –∏—Ç–æ–≥).</div>
        </div>
        <div id="address-block" style="display: none;"><div class="option-group"><label class="option-label">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label><textarea id="delivery-address" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞, –ø–æ–¥—ä–µ–∑–¥..."></textarea></div></div>
        <div class="option-group">
            <label class="option-label">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</label>
            <div class="radio-group">
                <input type="radio" name="paymentType" id="p-cash" class="radio-input" value="–ù–∞–ª–∏—á–Ω—ã–º–∏" checked onchange="togglePayment()"><label for="p-cash" class="radio-label">üíµ –ù–∞–ª–∏—á–Ω—ã–µ</label>
                <input type="radio" name="paymentType" id="p-kaspi" class="radio-input" value="Kaspi" onchange="togglePayment()"><label for="p-kaspi" class="radio-label">üî¥ Kaspi</label>
                <input type="radio" name="paymentType" id="p-halyk" class="radio-input" value="Halyk" onchange="togglePayment()"><label for="p-halyk" class="radio-label">üü¢ Halyk</label>
            </div>
        </div>
        <div id="payment-phone-block" style="display: none;"><div class="option-group"><label class="option-label">–ù–æ–º–µ—Ä –¥–ª—è —Å—á–µ—Ç–∞ (Kaspi/Halyk)</label><input type="tel" id="payment-phone" placeholder="–ù–æ–º–µ—Ä –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –∫–∞—Ä—Ç–µ"></div></div>
        <div class="option-group"><label class="option-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É</label><textarea id="order-comment" placeholder="–ü–æ–±–æ–ª—å—à–µ —Å–∞–ª—Ñ–µ—Ç–æ–∫, —É–±—Ä–∞—Ç—å –ª—É–∫ –∏ —Ç.–¥."></textarea></div>
        <div class="contact-note"><input type="checkbox" checked disabled style="width: auto; margin: 0;"><span>–°–æ–≥–ª–∞—Å–µ–Ω, —á—Ç–æ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å–æ –º–Ω–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.</span></div>
        <button class="modal-add-btn" id="submit-btn" onclick="submitOrder()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
</div>

<div class="upsell-overlay" id="upsell-modal">
    <div class="upsell-content">
        <h3 style="margin:0 0 10px 0;">–ö –∫–æ—Ñ–µ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥–µ—Ç!</h3>
        <img src="https://i.ibb.co.com/DHKNkMvB/image.png" alt="Croissant" class="upsell-img">
        <div style="font-weight: bold; margin-bottom: 5px;">–ö—Ä—É–∞—Å—Å–∞–Ω —Å –∫—É—Ä–∏—Ü–µ–π</div>
        <div style="font-size: 14px; color: #666; margin-bottom: 15px;">1000 ‚Ç∏</div>
        <div class="upsell-btn-row"><button class="upsell-no" onclick="closeUpsell()">–ù–µ—Ç, —Å–ø–∞—Å–∏–±–æ</button><button class="upsell-yes" onclick="acceptUpsell()">–î–æ–±–∞–≤–∏—Ç—å</button></div>
    </div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand(); 

    const PRICES = { 
        milk_lactose_free: 0, milk_alternative: 400, extra_shot: 300, 
        syrup: 0, 
        coffee_add_milk: 50, coffee_add_cream: 50, 
        tea_add_milk: 50, tea_add_cream: 50, tea_add_honey: 100, tea_add_lemon: 50,
        hotdog_add_cheese: 150, hotdog_add_jalapeno: 150, hotdog_add_onion: 150 
    };
    
    const SYRUPS = ["–ù–µ—Ç", "–ö–∞—Ä–∞–º–µ–ª—å", "–°–æ–ª–µ–Ω–∞—è –∫–∞—Ä–∞–º–µ–ª—å", "–ö–æ–∫–æ—Å", "–õ–µ—Å–Ω–æ–π –æ—Ä–µ—Ö", "–®–æ–∫–æ–ª–∞–¥", "–í–∞–Ω–∏–ª—å", "–ò—Ä–∏—Å", "–ü–æ–ø–∫–æ—Ä–Ω", "–ú–∞–∫–∞–¥–∞–º–∏—è", "–ö—Ä–µ–º –±—Ä—é–ª–µ", "–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ", "–õ–µ–º–æ–Ω–≥—Ä–∞—Å—Å", "–§–∏—Å—Ç–∞—à–∫–∞", "–ë–∞–Ω–∞–Ω", "–ê–º–∞—Ä–µ—Ç—Ç–æ", "–ú–∏–Ω–¥–∞–ª—å", "–ú–µ–¥", "–ì—Ä–∞–Ω–∞—Ç", "–ò—Ä–ª–∞–Ω–¥—Å–∫–∏–π –∫—Ä–µ–º", "–õ–∞–≤–∞–Ω–¥–∞", "–ë—Ä–∞—É–Ω–∏", "–ö–ª—É–±–Ω–∏–∫–∞"];

    const menuData = [
        // –ö–û–§–ï
        { id: "espresso", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–≠—Å–ø—Ä–µ—Å—Å–æ", desc: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –∫–æ—Ñ–µ —Å —Ç–æ–Ω–∫–æ–π –ø–µ–Ω–∫–æ–π", fullDesc: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –∏ –∫—Ä–µ–ø–∫–∏–π –∫–æ—Ñ–µ —Å —Ç–æ–Ω–∫–æ–π –ø–µ–Ω–∫–æ–π, –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–¥ –≤—ã—Å–æ–∫–∏–º –¥–∞–≤–ª–µ–Ω–∏–µ–º", hasMilk: false, allowCoffeeExtras: true, hasVolumes: false, basePrice: 700, volumes: [], available: true },
        { id: "americano", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–ê–º–µ—Ä–∏–∫–∞–Ω–æ", desc: "–ú—è–≥–∫–∏–π –∫–æ—Ñ–µ –≤ –º–∞–ª–µ–Ω—å–∫–æ–π –ø–æ—Ä—Ü–∏–∏", fullDesc: "–ú—è–≥–∫–∏–π –∫–æ—Ñ–µ, –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –ø—É—Ç–µ–º —Ä–∞–∑–±–∞–≤–ª–µ–Ω–∏—è —ç—Å–ø—Ä–µ—Å—Å–æ –≥–æ—Ä—è—á–µ–π –≤–æ–¥–æ–π", hasMilk: false, allowCoffeeExtras: true, hasVolumes: true, volumes: [{n: "0.2 –ª", p: 700}, {n: "0.3 –ª", p: 850}], available: true },
        { id: "flatwhite", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–§–ª—ç—Ç —É–∞–π—Ç", desc: "–ö–æ—Ñ–µ —Å –±–∞—Ä—Ö–∞—Ç–∏—Å—Ç—ã–º –º–æ–ª–æ–∫–æ–º", fullDesc: "–ù–µ–∂–Ω—ã–π –∫–æ—Ñ–µ–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ —Å –¥–≤–æ–π–Ω–æ–π –ø–æ—Ä—Ü–∏–µ–π —ç—Å–ø—Ä–µ—Å—Å–æ –∏ –±–∞—Ä—Ö–∞—Ç–∏—Å—Ç—ã–º –º–æ–ª–æ–∫–æ–º, –±–µ–∑ –≥—É—Å—Ç–æ–π –ø–µ–Ω–∫–∏", hasMilk: true, hasVolumes: false, basePrice: 950, volumes: [], available: true },
        { id: "cappuccino", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–ö–∞–ø—É—á–∏–Ω–æ", desc: "–ö–æ—Ñ–µ —Å –º–æ–ª–æ–∫–æ–º –∏ –ø–µ–Ω–∫–æ–π", fullDesc: "–ù–µ–∂–Ω—ã–π –∫–æ—Ñ–µ —Å —Ä–∞–≤–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —ç—Å–ø—Ä–µ—Å—Å–æ, –º–æ–ª–æ–∫–∞ –∏ –≤–æ–∑–¥—É—à–Ω–æ–π –º–æ–ª–æ—á–Ω–æ–π –ø–µ–Ω–∫–∏", hasMilk: true, hasVolumes: true, volumes: [{n: "0.3 –ª", p: 1000}, {n: "0.4 –ª", p: 1200}], available: true },
        { id: "latte", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–õ–∞—Ç—Ç–µ", desc: "–ö–æ—Ñ–µ —Å –º–æ–ª–æ–∫–æ–º –∏ –ª–µ–≥–∫–æ–π –ø–µ–Ω–∫–æ–π", fullDesc: "–ù–µ–∂–Ω—ã–π –∫–æ—Ñ–µ–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–æ–ª–æ–∫–∞ –∏ –ª–µ–≥–∫–æ–π –ø–µ–Ω–∫–æ–π", hasMilk: true, hasVolumes: true, volumes: [{n: "0.3 –ª", p: 950}, {n: "0.4 –ª", p: 1100}], available: true },
        { id: "raf", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–†–∞—Ñ", desc: "–°–ª–∏–≤–æ—á–Ω—ã–π –∫–æ—Ñ–µ –±–µ–∑ —Å–∞—Ö–∞—Ä–∞", fullDesc: "–°–ª–∏–≤–æ—á–Ω—ã–π –∫–æ—Ñ–µ–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫, –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –∏–∑ —ç—Å–ø—Ä–µ—Å—Å–æ –∏ —Å–ª–∏–≤–æ–∫, –≤–∑–±–∏—Ç—ã—Ö –≤–º–µ—Å—Ç–µ –¥–æ –Ω–µ–∂–Ω–æ–π —Ç–µ–∫—Å—Ç—É—Ä—ã", hasMilk: false, hasVolumes: true, volumes: [{n: "0.3 –ª", p: 1400}, {n: "0.4 –ª", p: 1800}], available: true },
        { id: "mocha", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–ú–æ–∫–∫–æ", desc: "–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –∫–æ—Ñ–µ", fullDesc: "–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –∫–æ—Ñ–µ–π–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ —Å —ç—Å–ø—Ä–µ—Å—Å–æ, –º–æ–ª–æ–∫–æ–º, —à–æ–∫–æ–ª–∞–¥–æ–º –∏ –ª–µ–≥–∫–æ–π –ø–µ–Ω–∫–æ–π", hasMilk: true, hasVolumes: true, volumes: [{n: "0.3 –ª", p: 1000}, {n: "0.4 –ª", p: 1300}], available: true },
        { id: "hotchoc", type: "complex", cat: "–ö–æ—Ñ–µ", name: "–ì–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥", desc: "–ì—É—Å—Ç–æ–π –≥–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥", fullDesc: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –∏ –≥—É—Å—Ç–æ–π –Ω–∞–ø–∏—Ç–æ–∫ –∏–∑ —à–æ–∫–æ–ª–∞–¥–∞ –∏ –º–æ–ª–æ–∫–∞", hasMilk: true, hasVolumes: true, volumes: [{n: "0.3 –ª", p: 850}, {n: "0.4 –ª", p: 1200}], available: true },
        
        // –ß–ê–ô
        { id: "black_tea", type: "complex", cat: "–ß–∞–π", name: "–ß–µ—Ä–Ω—ã–π —á–∞–π", desc: "", fullDesc: "", hasVolumes: false, fixedVolume: "300 –º–ª", basePrice: 250, allowTeaExtras: true, available: true },
        { id: "green_tea", type: "complex", cat: "–ß–∞–π", name: "–ó–µ–ª–µ–Ω—ã–π —á–∞–π", desc: "", fullDesc: "", hasVolumes: false, fixedVolume: "300 –º–ª", basePrice: 250, allowTeaExtras: true, available: true },
        { id: "tashkent", type: "complex", cat: "–ß–∞–π", name: "–¢–∞—à–∫–µ–Ω—Ç—Å–∫–∏–π", desc: "–ß–µ—Ä–Ω—ã–π —á–∞–π —Å –ø—Ä—è–Ω–æ—Å—Ç—è–º–∏", fullDesc: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —á–µ—Ä–Ω—ã–π —á–∞–π —Å –ø—Ä—è–Ω—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏, –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–º—É —Ä–µ—Ü–µ–ø—Ç—É", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 700}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1200}], available: true },
        { id: "oblepiha", type: "complex", cat: "–ß–∞–π", name: "–û–±–ª–µ–ø–∏—Ö–æ–≤—ã–π", desc: "–û–±–ª–µ–ø–∏—Ö–æ–≤—ã–π —á–∞–π", fullDesc: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –∏ –≤–∏—Ç–∞–º–∏–Ω–Ω—ã–π —á–∞–π —Å —è—Ä–∫–∏–º –≤–∫—É—Å–æ–º –æ–±–ª–µ–ø–∏—Ö–∏", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 800}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1300}], available: true },
        { id: "citrus_tea", type: "complex", cat: "–ß–∞–π", name: "–¶–∏—Ç—Ä—É—Å–æ–≤—ã–π —á–∞–π", desc: "–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤–æ-–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç–æ–≤—ã–π", fullDesc: "–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤–æ-–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç–æ–≤—ã–π —á–∞–π —Å –º—ë–¥–æ–º –∏ —Å–ø–µ—Ü–∏—è–º–∏", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1000}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1600}], available: true },
        { id: "masala", type: "complex", cat: "–ß–∞–π", name: "–ß–∞–π –ú–∞—Å–∞–ª–∞", desc: "–°–ª–∏–≤–æ—á–Ω—ã–π –∫—Ä–µ–ø–∫–∏–π —á–∞–π", fullDesc: "–°–ª–∏–≤–æ—á–Ω—ã–π –∫—Ä–µ–ø–∫–∏–π —á–∞–π —Å –∫–æ—Ä–∏—Ü–µ–π –∏ –º—ë–¥–æ–º", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1850}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 2800}], available: true },
        { id: "mango_chili", type: "complex", cat: "–ß–∞–π", name: "–ß–∞–π –ú–∞–Ω–≥–æ-–ß–∏–ª–∏", desc: "–ü—Ä—è–Ω—ã–π —á–∞–π —Å –º–∞–Ω–≥–æ –∏ —á–∏–ª–∏", fullDesc: "–ü—Ä—è–Ω—ã–π —á–∞–π —Å –º–∞–Ω–≥–æ, —á–∏–ª–∏ –∏ –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1350}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 2000}], available: true },
        { id: "cranberry", type: "complex", cat: "–ß–∞–π", name: "–ö–ª—é–∫–≤–µ–Ω–Ω—ã–π —á–∞–π", desc: "–ë–æ–¥—Ä—è—â–∏–π —á–∞–π —Å –∫–∏—Å–ª–∏–Ω–∫–æ–π", fullDesc: "–ë–æ–¥—Ä—è—â–∏–π —á–∞–π —Å –∫–ª—é–∫–≤–µ–Ω–Ω–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1000}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1600}], available: true },
        { id: "rasp_lime", type: "complex", cat: "–ß–∞–π", name: "–ß–∞–π –ú–∞–ª–∏–Ω–∞-–õ–∞–π–º", desc: "–û—Å–≤–µ–∂–∞—é—â–∏–π —á–∞–π —Å –º–∞–ª–∏–Ω–æ–π", fullDesc: "–û—Å–≤–µ–∂–∞—é—â–∏–π —á–∞–π —Å –º–∞–ª–∏–Ω–æ–π, –ª–∞–π–º–æ–º, –º–∞–ª–∏–Ω–æ–≤—ã–º —Å–∏—Ä–æ–ø–æ–º –∏ —Å–∞—Ö–∞—Ä–æ–º", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1100}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1700}], available: true },
        { id: "ginger_tea", type: "complex", cat: "–ß–∞–π", name: "–ò–º–±–∏—Ä–Ω—ã–π —á–∞–π", desc: "–ß–∞–π —Å –∏–º–±–∏—Ä–µ–º –∏ –º–µ–¥–æ–º", fullDesc: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —á–∞–π —Å –∏–º–±–∏—Ä–µ–º, –º–µ–¥–æ–º, –ª–∏–º–æ–Ω–æ–º, –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", hasVolumes: true, allowTeaExtras: true, volumes: [{n: "–°—Ç–∞–∫–∞–Ω 400 –º–ª", p: 1000}, {n: "–ß–∞–π–Ω–∏–∫ 1 –ª", p: 1600}], available: true },

        // –ï–î–ê (–° –§–û–¢–û)
        {id: 34, type: "simple", cat: "–ó–∞–≤—Ç—Ä–∞–∫–∏", name: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∑–∞–≤—Ç—Ä–∞–∫", price: 1500, desc: "–ì–ª–∞–∑—É–Ω—å—è —Å –∫–æ–ª–±–∞—Å–∫–∞–º–∏, —Ç–æ—Å—Ç–æ–º –∏ –æ–≤–æ—â–Ω—ã–º —Å–∞–ª–∞—Ç–æ–º", available: true, img: "https://i.ibb.co.com/fYF7vv4m/image.png"},
        {id: 35, type: "simple", cat: "–ó–∞–≤—Ç—Ä–∞–∫–∏", name: "–°–∫—Ä—ç–º–±–ª —Å —Ä—É–∫–∫–æ–ª–æ–π", price: 1400, desc: "–°–∫—Ä—ç–º–±–ª —Å —Ä—É–∫–∫–æ–ª–æ–π, —Ç–æ–º–∞—Ç–∞–º–∏ –∏ –±–∞–ª—å–∑–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–ø—Ä–∞–≤–∫–æ–π", available: true, img: "https://i.ibb.co.com/ZzyXX4Xp/image.png"},
        {id: 36, type: "simple", cat: "–ó–∞–≤—Ç—Ä–∞–∫–∏", name: "–°—ã—Ä–Ω–∏–∫–∏", price: 2000, desc: "–í–∞–Ω–∏–ª—å–Ω—ã–µ —Å—ã—Ä–Ω–∏–∫–∏ —Å —è–≥–æ–¥–æ–π –∏ —Å–º–µ—Ç–∞–Ω–æ–π", available: true, img: "https://i.ibb.co.com/DHjwG517/image.png"},
        {id: 37, type: "simple", cat: "–ó–∞–≤—Ç—Ä–∞–∫–∏", name: "–ë–ª–∏–Ω—á–∏–∫–∏", price: 1200, desc: "–°–≤–µ–∂–∏–µ –±–ª–∏–Ω—á–∏–∫–∏ —Å –º—ë–¥–æ–º –∏ —Å–º–µ—Ç–∞–Ω–æ–π", available: true, img: "https://i.ibb.co.com/nNCCt1Ft/image.png"},
        {id: 38, type: "simple", cat: "–ó–∞–≤—Ç—Ä–∞–∫–∏", name: "–î–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–π –∑–∞–≤—Ç—Ä–∞–∫", price: 2000, desc: "–ü–ª–æ—Ç–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫ —Å –º—è—Å–Ω–æ–π –Ω–∞—Ä–µ–∑–∫–æ–π –∏ –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º", available: true, img: "https://i.ibb.co.com/mCJ0Bdfw/image.png"},
        
        {id: 39, type: "simple", cat: "–ö—Ä—É–∞—Å—Å–∞–Ω—ã", name: "–ö—Ä—É–∞—Å—Å–∞–Ω —Å –∫—É—Ä–∏—Ü–µ–π", price: 1000, desc: "–ù–µ–∂–Ω—ã–π –∫—Ä—É–∞—Å—Å–∞–Ω —Å –∫—É—Ä–∏—Ü–µ–π, –ª–∏—Å—Ç–æ–º —Å–∞–ª–∞—Ç–∞, —Å–≤–µ–∂–∏–º –æ–≥—É—Ä—Ü–æ–º", available: true, img: "https://i.ibb.co.com/DHKNkMvB/image.png"},
        {id: 40, type: "simple", cat: "–ö—Ä—É–∞—Å—Å–∞–Ω—ã", name: "–ö—Ä—É–∞—Å—Å–∞–Ω —Å –≥–æ–≤—è–¥–∏–Ω–æ–π", price: 1100, desc: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π –∫—Ä—É–∞—Å—Å–∞–Ω —Å –≥–æ–≤—è–¥–∏–Ω–æ–π –∏ —Ç–≤–æ—Ä–æ–∂–Ω—ã–º —Å—ã—Ä–æ–º", available: true, img: "https://i.ibb.co.com/ymqq28h1/image.png"},
        {id: 41, type: "simple", cat: "–ö—Ä—É–∞—Å—Å–∞–Ω—ã", name: "–ö—Ä—É–∞—Å—Å–∞–Ω —Å —Å—ë–º–≥–æ–π", price: 1300, desc: "–ù–µ–∂–Ω—ã–π –∫—Ä—É–∞—Å—Å–∞–Ω —Å –ª–æ–º—Ç–∏–∫–∞–º–∏ —Å—ë–º–≥–∏ –∏ —Ç–≤–æ—Ä–æ–∂–Ω—ã–º —Å—ã—Ä–æ–º", available: true, img: "https://i.ibb.co.com/1JMtW2jS/image.png"},
        
        {id: 42, type: "simple", cat: "–°–∞–ª–∞—Ç—ã", name: "–¶–µ–∑–∞—Ä—å", price: 1700, desc: "–ö—É—Ä–∏—Ü–∞, —Ç–æ–º–∞—Ç—ã, —Å—É—Ö–∞—Ä–∏–∫–∏ –∏ —Å–æ—É—Å —Ü–µ–∑–∞—Ä—å", available: true, img: "https://i.ibb.co.com/39HbCnfp/image.png"},
        {id: 43, type: "simple", cat: "–°–∞–ª–∞—Ç—ã", name: "–ì—Ä–µ—á–µ—Å–∫–∏–π", price: 1600, desc: "–°–≤–µ–∂–∏–µ –æ–≤–æ—â–∏, —Ñ–µ—Ç–∞–∫—Å–∞ –∏ –æ–ª–∏–≤–∫–æ–≤–æ-–ª–∏–º–æ–Ω–Ω–∞—è –∑–∞–ø—Ä–∞–≤–∫–∞", available: true, img: "https://i.ibb.co.com/LD7sswh7/image.png"},
        {id: 44, type: "simple", cat: "–°–∞–ª–∞—Ç—ã", name: "–¢–µ–ø–ª—ã–π —Å–∞–ª–∞—Ç —Å –±–∞–∫–ª–∞–∂–∞–Ω–∞–º–∏", price: 1500, desc: "–¢–µ–ø–ª—ã–µ —Ö—Ä—É—Å—Ç—è—â–∏–µ –±–∞–∫–ª–∞–∂–∞–Ω—ã —Å —Ç–æ–º–∞—Ç–∞–º–∏", available: true, img: "https://i.ibb.co.com/fKNXDFk/image.png"},
        {id: 45, type: "simple", cat: "–°–∞–ª–∞—Ç—ã", name: "–°–∞–ª–∞—Ç —Å —Ü—ã–ø–ª—ë–Ω–∫–æ–º", price: 1200, desc: "–õ—ë–≥–∫–∏–π —Å–∞–ª–∞—Ç —Å –∫–æ–ø—á—ë–Ω–æ–π –∫—É—Ä–∏—Ü–µ–π –∏ –π–æ–≥—É—Ä—Ç–æ–≤–æ–π –∑–∞–ø—Ä–∞–≤–∫–æ–π", available: true, img: "https://i.ibb.co.com/DDZzxSp1/image.png"},
        
        // –ù–ê–ü–ò–¢–ö–ò
        {id: 53, type: "simple", cat: "–õ–∏–º–æ–Ω–∞–¥—ã", name: "–ö–∏–≤–∏-–ª–∞–π–º –ª–∏–º–æ–Ω–∞–¥", price: 450, desc: "", available: true},
        {id: 54, type: "simple", cat: "–õ–∏–º–æ–Ω–∞–¥—ã", name: "–ê–Ω–∞–Ω–∞—Å-–∞–ø–µ–ª—å—Å–∏–Ω –ª–∏–º–æ–Ω–∞–¥", price: 450, desc: "", available: true},
        {id: 55, type: "simple", cat: "–õ–∏–º–æ–Ω–∞–¥—ã", name: "–ö–ª—é–∫–≤–µ–Ω–Ω—ã–π –º–æ—Ä—Å", price: 450, desc: "", available: true},
        {id: 56, type: "simple", cat: "–ö–æ–∫—Ç–µ–π–ª–∏", name: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π", price: 850, desc: "", available: true},
        {id: 57, type: "simple", cat: "–ö–æ–∫—Ç–µ–π–ª–∏", name: "–®–æ–∫–æ–ª–∞–¥–Ω—ã–π", price: 900, desc: "", available: true},
        {id: 58, type: "simple", cat: "–ö–æ–∫—Ç–µ–π–ª–∏", name: "–ö–ª—É–±–Ω–∏—á–Ω—ã–π", price: 900, desc: "", available: true},
        {id: 59, type: "simple", cat: "–ö–æ–∫—Ç–µ–π–ª–∏", name: "–ë–∞–Ω–∞–Ω–æ–≤—ã–π", price: 1000, desc: "", available: true},
        {id: 60, type: "simple", cat: "–ö–æ–∫—Ç–µ–π–ª–∏", name: "–§—Ä–∞–ø–ø—É—á–∏–Ω–æ", price: 1800, desc: "", available: true},
        
        // –•–û–¢-–î–û–ì–ò (–° –§–û–¢–û)
        {id: 61, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–ö–ª–∞—Å—Å–∏–∫–∞", price: 1100, desc: "–ì–æ–≤—è–∂—å—è —Å–æ—Å–∏—Å–∫–∞ —Å –∫–µ—Ç—á—É–ø–æ–º –∏ –≥–æ—Ä—á–∏—Ü–µ–π", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/RkC4dvD9/image.png"},
        {id: 62, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–°—ã—Ä–Ω—ã–π", price: 1600, desc: "–°–æ—Å–∏—Å–∫–∞ —Å —Å—ã—Ä–æ–º —á–µ–¥–¥–µ—Ä –∏ —Å—ã—Ä–Ω—ã–º —Å–æ—É—Å–æ–º", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/bDCSWSV/image.png"},
        {id: 63, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–ë–∞—Ä–±–µ–∫—é", price: 1300, desc: "–°–æ—Å–∏—Å–∫–∞ —Å —Å–æ—É—Å–æ–º –±–∞—Ä–±–µ–∫—é –∏ –∂–∞—Ä–µ–Ω—ã–º –ª—É–∫–æ–º", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/dJBPMqTg/image.png"},
        {id: 64, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–î–∞—Ç—Å–∫–∏–π", price: 1300, desc: "–°–æ—Å–∏—Å–∫–∞ —Å –∫–µ—Ç—á—É–ø–æ–º, –≥–æ—Ä—á–∏—Ü–µ–π, –æ–≥—É—Ä—Ü–æ–º –∏ –ª—É–∫–æ–º", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/v6BVJjXm/image.png"},
        {id: 65, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–ë–∞–Ω–≥–∫–æ–∫", price: 1500, desc: "–°–æ—Å–∏—Å–∫–∞ —Å –∫–∏—Å–ª–æ-—Å–ª–∞–¥–∫–∏–º —Å–æ—É—Å–æ–º –∏ –æ–≤–æ—â–∞–º–∏", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/XkD8Mnrm/image.png"},
        {id: 66, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–§—Ä–µ–Ω—á-–¥–æ–≥", price: 1200, desc: "–°–æ—Å–∏—Å–∫–∞ –≤ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–π –±—É–ª–æ—á–∫–µ —Å –∫–µ—Ç—á—É–ø–æ–º –∏ –≥–æ—Ä—á–∏—Ü–µ–π", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/v6YxqMFK/fotor-ai-art-effects-20250415142251.png"},
        {id: 67, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–ö–æ–≤–±–æ–π", price: 1600, desc: "–°–æ—Å–∏—Å–∫–∞ —Å –±–∞—Ä–±–µ–∫—é, —Å—ã—Ä–æ–º, –ø–æ–º–∏–¥–æ—Ä–æ–º –∏ —Ö–∞–ª–∞–ø–µ–Ω—å–æ", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/Mx9HZBSn/image.png"},
        {id: 68, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–ê–π—Å–±–µ—Ä–≥", price: 1600, desc: "–°–æ—Å–∏—Å–∫–∞ —Å –æ–≤–æ—â–∞–º–∏ –∏ —á–µ—Å–Ω–æ—á–Ω—ã–º —Å–æ—É—Å–æ–º", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/352twmWf/image.png"},
        {id: 69, type: "simple", cat: "–•–æ—Ç-–¥–æ–≥–∏", name: "–û—Å—Ç—Ä—ã–π", price: 1500, desc: "–û—Å—Ç—Ä—ã–π —Ö–æ—Ç-–¥–æ–≥ —Å —Å–∞–ª—å—Å–æ–π, —Ö–∞–ª–∞–ø–µ–Ω—å–æ –∏ –ª—É–∫–æ–º", allowHotDogExtras: true, available: true, img: "https://i.ibb.co.com/qLyxnspX/image.png"},
        
        // –ü–ê–°–¢–´ (–° –§–û–¢–û)
        {id: 71, type: "simple", cat: "–ü–∞—Å—Ç—ã", name: "–ö–∞—Ä–±–æ–Ω–∞—Ä–∞ —Å –∏–Ω–¥–µ–π–∫–æ–π", price: 2500, desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø–∞—Å—Ç–∞ —Å –Ω–µ–∂–Ω—ã–º —Ñ–∏–ª–µ –∏–Ω–¥–µ–π–∫–∏, –∫—Ä–∞—Å–Ω—ã–º –ª—É–∫–æ–º –∏ —á–µ—Å–Ω–æ–∫–æ–º –≤ —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ", available: true, img: "https://i.ibb.co.com/3mTYwCKG/image.png"},
        {id: 72, type: "simple", cat: "–ü–∞—Å—Ç—ã", name: "–§–µ—Ç—É—á–∏–Ω–∏ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –≥—Ä–∏–±–∞–º–∏", price: 2600, desc: "–§–µ—Ç—É—á–∏–Ω–∏ —Å –∫—É—Ä–∏–Ω—ã–º —Ñ–∏–ª–µ, –≥—Ä–∏–±–∞–º–∏ –∏ —á–µ—Å–Ω–æ–∫–æ–º –≤ —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ", available: true, img: "https://i.ibb.co.com/qL1drmmb/image.png"},
        {id: 73, type: "simple", cat: "–ü–∞—Å—Ç—ã", name: "–ü–∞—Å—Ç–∞ —Å —Å–µ–º–≥–æ–π", price: 2800, desc: "–ü–∞—Å—Ç–∞ —Å–æ —Å–ª–∞–±–æ—Å–æ–ª–µ–Ω–æ–π —Å–µ–º–≥–æ–π –∏ –∫—Ä–∞—Å–Ω—ã–º –ª—É–∫–æ–º –≤ –Ω–µ–∂–Ω–æ–º —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ", available: true, img: "https://i.ibb.co.com/MDm3TF4y/image.png"},

        // –ü–ò–¶–¶–ê
        {id: 74, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–°–∞–ª—å—Å–∞", price: 3000, desc: "–û—Å—Ç—Ä–∞—è –ø–∏—Ü—Ü–∞ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π –∏ –∫–æ–ª–±–∞—Å–∫–∞–º–∏", available: true, img: ""},
        {id: 75, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–ë–∞—Ä–±–µ–∫—é", price: 2450, desc: "–ü–∏—Ü—Ü–∞ —Å –∫—É—Ä–∏—Ü–µ–π, –ª—É–∫–æ–º –∏ —Å–æ—É—Å–æ–º –±–∞—Ä–±–µ–∫—é", available: true, img: ""},
        {id: 76, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–ñ—É–ª—å–µ–Ω —Å —Ü—ã–ø–ª–µ–Ω–∫–æ–º", price: 2600, desc: "–ü–∏—Ü—Ü–∞ —Å —Ü—ã–ø–ª–µ–Ω–∫–æ–º, –≥—Ä–∏–±–∞–º–∏ –∏ —Å–ª–∏–≤–∫–∞–º–∏", available: true, img: ""},
        {id: 77, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–ì—Ä–µ—á–µ—Å–∫–∞—è", price: 2300, desc: "–ü–∏—Ü—Ü–∞ —Å –æ–≤–æ—â–∞–º–∏, –º–∞—Å–ª–∏–Ω–∞–º–∏ –∏ —Ä—É–∫–∫–æ–ª–æ–π", available: true, img: ""},
        {id: 78, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–†–∏–º—Å–∫–∞—è —Å –∫—É—Ä–∏—Ü–µ–π", price: 2300, desc: "–ü–∏—Ü—Ü–∞ —Å –∫—É—Ä–∏—Ü–µ–π –∏ –≥—Ä–∏–±–∞–º–∏", available: true, img: ""},
        {id: 79, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–†–∏–º—Å–∫–∞—è —Å –≥–æ–≤—è–¥–∏–Ω–æ–π", price: 2700, desc: "–ü–∏—Ü—Ü–∞ —Å –∫–æ–ø—á–µ–Ω–æ–π –≥–æ–≤—è–¥–∏–Ω–æ–π –∏ —Ç–æ–º–∞—Ç–∞–º–∏", available: true, img: ""},
        {id: 80, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–ü–µ–ø–ø–µ—Ä–æ–Ω–∏", price: 2100, desc: "–ü–∏—Ü—Ü–∞ —Å –∫–æ–ª–±–∞—Å–∫–∞–º–∏ –ø–µ–ø–ø–µ—Ä–æ–Ω–∏", available: true, img: ""},
        {id: 81, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", price: 1700, desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø–∏—Ü—Ü–∞ —Å —Ç–æ–º–∞—Ç–∞–º–∏ –∏ —Å—ã—Ä–æ–º", available: true, img: ""},
        {id: 82, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è", price: 3200, desc: "–°—ã—Ä–Ω–∞—è –ø–∏—Ü—Ü–∞ —Å —Å–µ–º–≥–æ–π –∏ —Ç–≤–æ—Ä–æ–∂–Ω—ã–º —Å—ã—Ä–æ–º", available: true, img: ""},
        {id: 83, type: "simple", cat: "–ü–∏—Ü—Ü–∞", name: "–û—Ö–æ—Ç–Ω–∏—á—å—è", price: 2300, desc: "–ú—è—Å–Ω–∞—è –ø–∏—Ü—Ü–∞ —Å –≥—Ä–∏–±–∞–º–∏ –∏ —á–µ—Ä—Ä–∏", available: true, img: ""},
        
        // –ó–ê–ö–£–°–ö–ò (–° –§–û–¢–û + –û–ë–™–ï–î–ò–ù–ï–ù–ù–´–ï –ù–ê–ì–ì–ï–¢–°–´)
        {id: 84, type: "simple", cat: "–ó–∞–∫—É—Å–∫–∏", name: "–°—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏ (5 —à—Ç)", price: 1400, desc: "–•—Ä—É—Å—Ç—è—â–∏–µ —Å—ã—Ä–Ω—ã–µ –ø–∞–ª–æ—á–∫–∏", available: true, img: "https://i.ibb.co.com/qLRBBN1K/image.png"},
        // –ù–∞–≥–≥–µ—Ç—Å—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã
        {id: 85, type: "complex", cat: "–ó–∞–∫—É—Å–∫–∏", name: "–ù–∞–≥–≥–µ—Ç—Å—ã", desc: "–ö—É—Ä–∏–Ω—ã–µ –Ω–∞–≥–≥–µ—Ç—Å—ã –≤ —Ö—Ä—É—Å—Ç—è—â–µ–π –ø–∞–Ω–∏—Ä–æ–≤–∫–µ", fullDesc: "–ö—É—Ä–∏–Ω—ã–µ –Ω–∞–≥–≥–µ—Ç—Å—ã –≤ —Ö—Ä—É—Å—Ç—è—â–µ–π –ø–∞–Ω–∏—Ä–æ–≤–∫–µ", available: true, hasVolumes: true, volumes: [{n: "8 —à—Ç", p: 1100}, {n: "20 —à—Ç", p: 2000}], basePrice: 1100, img: "https://i.ibb.co.com/spWpsmvt/image.png"},
        
        {id: 87, type: "simple", cat: "–ó–∞–∫—É—Å–∫–∏", name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ –¥–æ–ª—å–∫–∏", price: 800, desc: "–•—Ä—É—Å—Ç—è—â–∏–µ –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å–Ω—ã–µ –¥–æ–ª—å–∫–∏", available: true, img: "https://i.ibb.co.com/B2DVrSwM/image.png"},
        {id: 88, type: "simple", cat: "–ó–∞–∫—É—Å–∫–∏", name: "–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏", price: 600, desc: "–ó–æ–ª–æ—Ç–∏—Å—Ç—ã–π –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏", available: true, img: "https://i.ibb.co.com/8kVCzr6/image.png"},
        {id: 89, type: "simple", cat: "–ó–∞–∫—É—Å–∫–∏", name: "–°—Ç—Ä–∏–ø—Å—ã (5 —à—Ç)", price: 1200, desc: "–ö—É—Ä–∏–Ω—ã–µ —Å—Ç—Ä–∏–ø—Å—ã –≤ —Ö—Ä—É—Å—Ç—è—â–µ–π –ø–∞–Ω–∏—Ä–æ–≤–∫–µ", available: true, img: "https://i.ibb.co.com/NdLqRg9b/unnamed-1.png"},
        
        // –°–ï–ó–û–ù–ù–û–ï
        {id: 91, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ö–æ–ø—á–µ–Ω–Ω—ã–π –ª–∞—Ç—Ç–µ", price: 1500, desc: "–õ–∞—Ç—Ç–µ —Å –∫–æ–ø—á—ë–Ω–æ–π –ø–∞–ø—Ä–∏–∫–æ–π –∏ –∫–ª–µ–Ω–æ–≤—ã–º —Å–∏—Ä–æ–ø–æ–º", available: true},
        {id: 92, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–¶–∏—Ç—Ä—É—Å–æ–≤—ã–π —á–∞–π", price: 1000, desc: "–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤–æ-–≥—Ä–µ–π–ø—Ñ—Ä—É—Ç–æ–≤—ã–π —á–∞–π —Å –º—ë–¥–æ–º –∏ —Å–ø–µ—Ü–∏—è–º–∏", available: true},
        {id: 93, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ß–∞–π –º–∞—Å–∞–ª–∞", price: 1850, desc: "–°–ª–∏–≤–æ—á–Ω—ã–π –∫—Ä–µ–ø–∫–∏–π —á–∞–π —Å –∫–æ—Ä–∏—Ü–µ–π –∏ –º—ë–¥–æ–º", available: true},
        {id: 94, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ß–∞–π –º–∞–Ω–≥–æ-—á–∏–ª–∏", price: 1350, desc: "–ü—Ä—è–Ω—ã–π —á–∞–π —Å –º–∞–Ω–≥–æ, —á–∏–ª–∏ –∏ –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", available: true},
        {id: 95, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ö–ª—é–∫–≤–µ–Ω–Ω—ã–π —á–∞–π", price: 1000, desc: "–ë–æ–¥—Ä—è—â–∏–π —á–∞–π —Å –∫–ª—é–∫–≤–µ–Ω–Ω–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π", available: true},
        {id: 96, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ß–∞–π –º–∞–ª–∏–Ω–∞-–ª–∞–π–º", price: 1100, desc: "–û—Å–≤–µ–∂–∞—é—â–∏–π —á–∞–π —Å –º–∞–ª–∏–Ω–æ–π, –ª–∞–π–º–æ–º, –º–∞–ª–∏–Ω–æ–≤—ã–º —Å–∏—Ä–æ–ø–æ–º –∏ —Å–∞—Ö–∞—Ä–æ–º", available: true},
        {id: 97, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ì–ª–∏–Ω—Ç–≤–µ–π–Ω (–ë/–ê)", price: 1000, desc: "–¢–µ–ø–ª—ã–π –≥–ª–∏–Ω—Ç–≤–µ–π–Ω —Å –ø—Ä—è–Ω–æ—Å—Ç—è–º–∏ –∏ –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", available: true},
        {id: 98, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ò–º–±–∏—Ä–Ω—ã–π —á–∞–π", price: 1000, desc: "–ê—Ä–æ–º–∞—Ç–Ω—ã–π —á–∞–π —Å –∏–º–±–∏—Ä–µ–º, –º–µ–¥–æ–º, –ª–∏–º–æ–Ω–æ–º, –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", available: true},
        {id: 99, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ö–∞–∫–∞–æ", price: 1000, desc: "–ù–µ–∂–Ω–æ–µ –∫–∞–∫–∞–æ —Å –º–∞—Ä—à–º–µ–ª–ª–æ—É", available: true},
        {id: 100, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ö–∞–ø—É—á–∏–Ω–æ –°–Ω–∏–∫–µ—Ä—Å", price: 1500, desc: "–ö–∞–ø—É—á–∏–Ω–æ —Å –∞—Ä–∞—Ö–∏—Å–æ–º –∏ –∫–∞—Ä–∞–º–µ–ª—å—é", available: true},
        
        {id: 101, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π –±–∞–º–±–ª", price: 900, desc: "–ö–æ—Ñ–µ–π–Ω–æ-–∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π –±–∞–º–±–ª —Å –∫–∞—Ä–∞–º–µ–ª—å—é", available: true},
        {id: 102, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "–õ–µ—Ç–Ω–∏–π Boom", price: 900, desc: "–û—Å–≤–µ–∂–∞—é—â–∏–π —Ü–∏—Ç—Ä—É—Å–æ–≤—ã–π –ª–∏–º–æ–Ω–∞–¥ —Å –º—è—Ç–æ–π –∏ –∞–Ω–∞–Ω–∞—Å–æ–º", available: true},
        {id: 103, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "–ú–æ—Ö–∏—Ç–æ", price: 800, desc: "–û—Å–≤–µ–∂–∞—é—â–∏–π –º–æ—Ö–∏—Ç–æ —Å –ª–∞–π–º–æ–º –∏ –º—è—Ç–æ–π", available: true},
        {id: 104, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "–ú–∞–Ω–≥–æ–≤—ã–π –∑–∞–∫–∞—Ç", price: 1000, desc: "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Å –º–∞—Ä–∞–∫—É–π–µ–π", available: true},
        {id: 98, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "Ice –õ–∞—Ç—Ç–µ", price: 1100, desc: "–•–æ–ª–æ–¥–Ω—ã–π –ª–∞—Ç—Ç–µ —Å–æ –ª—å–¥–æ–º", available: true},
        {id: 99, type: "simple", cat: "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏", name: "Ice –ö–∞–ø—É—á–∏–Ω–æ", price: 1200, desc: "–•–æ–ª–æ–¥–Ω—ã–π –∫–∞–ø—É—á–∏–Ω–Ω–æ —Å–æ –ª—å–¥–æ–º", available: true},
        
        // –°–¢–û–ü-–õ–ò–°–¢
        {id: 104, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "Ice –õ–∞—Ç—Ç–µ –†–∞—Ñ–∞—ç–ª–ª–æ", price: 1400, desc: "–ö–æ–∫–æ—Å–æ–≤–æ-—à–æ–∫–æ–ª–∞–¥–Ω—ã–π –ª–∞—Ç—Ç–µ —Å–æ —Å–ª–∏–≤–∫–∞–º–∏", available: false},
        {id: 105, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "Ice –ß–∞–π", price: 900, desc: "–•–æ–ª–æ–¥–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π —á–∞–π —Å —Ü–∏—Ç—Ä—É—Å–∞–º–∏ –∏ –º—ë–¥–æ–º", available: false},
        {id: 106, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–í–∏—à–Ω–µ–≤—ã–π –±–∞–º–±–ª", price: 900, desc: "–ö–æ—Ñ–µ–π–Ω–æ-–≤–∏—à–Ω–µ–≤—ã–π –±–∞–º–±–ª —Å —à–æ–∫–æ–ª–∞–¥–æ–º", available: false},
        {id: 107, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ú–∞–ª–∏–Ω–æ–≤—ã–π –º–æ—Ö–∏—Ç–æ", price: 800, desc: "–ú–∞–ª–∏–Ω–æ–≤—ã–π –º–æ—Ö–∏—Ç–æ —Å –ª–∞–π–º–æ–º", available: false},
        {id: 108, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "Black Moll", price: 1000, desc: "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Å –º–∞—Ä–∞–∫—É–π–µ–π –∏ –≤–∏—à–Ω–µ–π", available: false},
        {id: 109, type: "simple", cat: "–°–µ–∑–æ–Ω–Ω–æ–µ", name: "–ö–∏–≤–∏-–º—è—Ç–∞", price: 1000, desc: "–ö–∏–≤–∏-–º—è—Ç–Ω—ã–π –ª–∏–º–æ–Ω–∞–¥ —Å –∞–ø–µ–ª—å—Å–∏–Ω–æ–º", available: false},
        {id: 110, type: "simple", cat: "–°–º—É–∑–∏", name: "–ö–∏–≤–∏ —Å–º—É–∑–∏", price: 1200, desc: "–°–≤–µ–∂–∏–π —Å–º—É–∑–∏ –∏–∑ –∫–∏–≤–∏", available: false},
        {id: 111, type: "simple", cat: "–°–º—É–∑–∏", name: "–ê–ø–µ–ª—å—Å–∏–Ω —Å–º—É–∑–∏", price: 1100, desc: "–ê–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π —Å–º—É–∑–∏", available: false},
        {id: 112, type: "simple", cat: "–°–º—É–∑–∏", name: "–ê–ø–µ–ª—å—Å–∏–Ω-—è–±–ª–æ–∫–æ —Å–º—É–∑–∏", price: 1000, desc: "–§—Ä—É–∫—Ç–æ–≤—ã–π —Å–º—É–∑–∏ —Å –∞–ø–µ–ª—å—Å–∏–Ω–æ–º –∏ —è–±–ª–æ–∫–æ–º", available: false},
        {id: 113, type: "simple", cat: "–°–º—É–∑–∏", name: "–ö–∏–≤–∏-–∞–ø–µ–ª—å—Å–∏–Ω-–±–∞–Ω–∞–Ω —Å–º—É–∑–∏", price: 1400, desc: "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π —Å–º—É–∑–∏ —Å –∫–∏–≤–∏, –∞–ø–µ–ª—å—Å–∏–Ω–æ–º –∏ –±–∞–Ω–∞–Ω–æ–º", available: false},
        {id: 114, type: "simple", cat: "–°–º—É–∑–∏", name: "–ö–∏–≤–∏-–±–∞–Ω–∞–Ω-–≥—Ä—É—à–∞ —Å–º—É–∑–∏", price: 1300, desc: "–§—Ä—É–∫—Ç–æ–≤—ã–π —Å–º—É–∑–∏ —Å –∫–∏–≤–∏, –±–∞–Ω–∞–Ω–æ–º –∏ –≥—Ä—É—à–µ–π", available: false},
        {id: 115, type: "simple", cat: "–°–º—É–∑–∏", name: "–Ø–≥–æ–¥–Ω–æ–µ —Å–º—É–∑–∏", price: 1800, desc: "–Ø–≥–æ–¥–Ω—ã–π –º–∏–∫—Å-—Å–º—É–∑–∏ —Å –±–∞–Ω–∞–Ω–æ–º", available: false}
    ];

    let cart = [];
    let currentModalProduct = null;
    let upsellShown = false;

    function getLocalHour() { const now = new Date(); return now.getHours(); }
    function checkWorkingHours() {
        const hour = getLocalHour();
        const badge = document.getElementById('work-status');
        if (hour >= 9 && hour < 23) {
            badge.innerText = "–û—Ç–∫—Ä—ã—Ç–æ –¥–æ 23:00"; badge.className = "status-badge status-open"; return true;
        } else {
            badge.innerText = "–ó–∞–∫—Ä—ã—Ç–æ (09:00-23:00)"; badge.className = "status-badge status-closed"; return false;
        }
    }
    function isPizzaAvailable() { return getLocalHour() >= 11; }

    function filterMenu() {
        const query = document.getElementById('search-input').value.toLowerCase();
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
            const name = card.querySelector('h3').innerText.toLowerCase();
            if (name.includes(query)) card.style.display = 'flex'; else card.style.display = 'none';
        });
    }

    function renderNav() {
        const navContainer = document.getElementById('nav-container');
        const categories = [...new Set(menuData.map(p => p.cat))];
        navContainer.innerHTML = '';
        categories.forEach(cat => {
            const btn = document.createElement('a');
            btn.className = 'nav-btn';
            btn.innerText = cat;
            btn.href = `#cat-${cat.replace(/\s+/g, '-')}`;
            btn.onclick = (e) => {
                e.preventDefault();
                const section = document.getElementById(`cat-${cat.replace(/\s+/g, '-')}`);
                const y = section.getBoundingClientRect().top + window.scrollY - 140;
                window.scrollTo({top: y, behavior: 'smooth'});
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            };
            navContainer.appendChild(btn);
        });
    }

    function renderMenu() {
        const app = document.getElementById('app');
        if (!app) return;
        renderNav();
        const isOpen = checkWorkingHours();
        const pizzaAvailable = isPizzaAvailable();
        const categories = [...new Set(menuData.map(p => p.cat))];
        
        app.innerHTML = '';

        categories.forEach(cat => {
            const section = document.createElement('div');
            section.className = 'category-section';
            section.id = `cat-${cat.replace(/\s+/g, '-')}`;
            section.innerHTML = `<div class="category-title">${cat}</div>`;
            const grid = document.createElement('div');
            grid.className = 'grid';
            
            menuData.filter(p => p.cat === cat).forEach(p => {
                const card = document.createElement('div');
                card.className = 'card';
                let isOutOfStock = (p.available === false);
                let isPizzaBlocked = (cat === '–ü–∏—Ü—Ü–∞' && !pizzaAvailable);
                let isDisabled = !isOpen || isPizzaBlocked || isOutOfStock;
                let btnText = "–í–´–ë–†–ê–¢–¨";
                if (!isOpen) btnText = "–ó–ê–ö–†–´–¢–û";
                else if (isOutOfStock) { btnText = "–ù–ï–¢ –í –ù–ê–õ–ò–ß–ò–ò"; card.classList.add('unavailable'); }
                else if (isPizzaBlocked) btnText = "–° 11:00";
                
                let displayPrice = 0;
                if (p.type === "complex" && p.hasVolumes) {
                    displayPrice = `–æ—Ç ${p.volumes[0].p}`;
                } else {
                    displayPrice = p.price || p.basePrice;
                }
                
                const itemImage = p.img ? p.img : getImageByCategory(p.cat);
                const badgeHtml = isOutOfStock ? `<div class="unavailable-badge">–ó–∞–∫–æ–Ω—á–∏–ª–æ—Å—å</div>` : '';
                
                card.innerHTML = `
                    <div class="card-img-container">
                        <img src="${itemImage}" alt="${p.name}" loading="lazy" onload="this.classList.add('loaded')">
                        ${badgeHtml}
                    </div>
                    <h3>${p.name}</h3>
                    ${p.desc ? `<div class="desc">${p.desc}</div>` : ''}
                    <div class="price-row"><div class="price">${displayPrice} ‚Ç∏</div><button class="add-btn" ${isDisabled ? 'disabled' : ''} onclick="handleItemClick('${p.id}')">${btnText}</button></div>`;
                grid.appendChild(card);
            });
            section.appendChild(grid);
            app.appendChild(section);
        });
    }

    function handleItemClick(id) {
        if (!checkWorkingHours()) { alert("–ö–æ—Ñ–µ–π–Ω—è –∑–∞–∫—Ä—ã—Ç–∞ (09:00 - 23:00)"); return; }
        const product = menuData.find(p => String(p.id) === String(id));
        if (product.cat === '–ü–∏—Ü—Ü–∞' && !isPizzaAvailable()) { alert("–ü–∏—Ü—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å 11:00!"); return; }
        if (product.available === false) return;

        openComplexModal(product);
    }

    function addToCartSimple(product) {
        cart.push({ name: product.name, price: product.price, options: [], cat: product.cat });
        updateCartButton();
        tg.HapticFeedback.notificationOccurred('success');
        if (!upsellShown && (product.cat === '–ö–æ—Ñ–µ' || product.cat === '–ß–∞–π')) checkUpsell();
    }

    function checkUpsell() {
        setTimeout(() => { document.getElementById('upsell-modal').style.display = 'flex'; upsellShown = true; }, 500);
    }
    function closeUpsell() { document.getElementById('upsell-modal').style.display = 'none'; }
    function acceptUpsell() {
        const croissant = menuData.find(p => p.id == 39);
        if(croissant) addToCartSimple(croissant);
        closeUpsell();
    }

    function loadUserData() {
        const savedName = localStorage.getItem('coffee_username');
        const savedPhone = localStorage.getItem('coffee_phone');
        const savedAddress = localStorage.getItem('coffee_address');
        if (savedName) document.getElementById('client-name').value = savedName;
        if (savedPhone) document.getElementById('client-phone').value = savedPhone;
        if (savedAddress) document.getElementById('delivery-address').value = savedAddress;
    }

    function saveUserData(name, phone, address) {
        localStorage.setItem('coffee_username', name);
        localStorage.setItem('coffee_phone', phone);
        if(address) localStorage.setItem('coffee_address', address);
    }

    function openComplexModal(product) {
        currentModalProduct = product;
        const content = document.getElementById('product-modal-content');
        
        let html = '';
        const description = product.fullDesc || product.desc || "";
        
        html += `<div class="modal-header"><div class="modal-title-block"><div class="modal-title">${product.name}</div><div class="modal-desc">${description}</div></div><div class="close-icon" onclick="closeProductModal(true)">‚úï</div></div>`;
        
        if (product.hasVolumes) {
            html += `<div class="option-group"><label class="option-label">–ü–æ—Ä—Ü–∏—è</label><div class="radio-group">`;
            product.volumes.forEach((v, i) => {
                html += `<input type="radio" name="vol" id="v${i}" value="${i}" class="radio-input" ${i===0?'checked':''} onchange="recalcPrice()"><label for="v${i}" class="radio-label">${v.n}<br>${v.p}‚Ç∏</label>`;
            });
            html += `</div></div>`;
        } else if (product.fixedVolume) {
             html += `<div class="option-group"><label class="option-label">–û–±—ä–µ–º: ${product.fixedVolume}</label></div>`;
        }

        if(product.hasMilk) {
            html += `<div class="option-group"><label class="option-label">–ú–æ–ª–æ–∫–æ</label><div class="radio-group">
                <input type="radio" name="milk" id="m1" value="std" class="radio-input" checked onchange="recalcPrice()"><label for="m1" class="radio-label">–û–±—ã—á–Ω–æ–µ</label>
                <input type="radio" name="milk" id="m2" value="lf" class="radio-input" onchange="recalcPrice()"><label for="m2" class="radio-label">–ë–µ–∑–ª–∞–∫—Ç.<br>+0</label>
                <input type="radio" name="milk" id="m3" value="alt" class="radio-input" onchange="recalcPrice()"><label for="m3" class="radio-label">–ê–ª—å—Ç–µ—Ä–Ω.<br>+400</label>
            </div></div>`;
        }

        if(product.allowCoffeeExtras) {
            html += `<div class="option-group"><label class="option-label">–î–æ–±–∞–≤–∫–∏</label>
            <div class="checkbox-row"><span>–î–æ–ø. –º–æ–ª–æ–∫–æ (+50)</span><label class="toggle-switch"><input type="checkbox" id="cm" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–î–æ–ø. —Å–ª–∏–≤–∫–∏ (+50)</span><label class="toggle-switch"><input type="checkbox" id="cc" onchange="recalcPrice()"><span class="slider"></span></label></div></div>`;
        }
        if(product.allowTeaExtras) {
             html += `<div class="option-group"><label class="option-label">–î–æ–±–∞–≤–∫–∏</label>
            <div class="checkbox-row"><span>–ú–æ–ª–æ–∫–æ (+50)</span><label class="toggle-switch"><input type="checkbox" id="tm" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–°–ª–∏–≤–∫–∏ (+50)</span><label class="toggle-switch"><input type="checkbox" id="tc" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–ú–µ–¥ (+100)</span><label class="toggle-switch"><input type="checkbox" id="th" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–î–æ–ø. –ª–∏–º–æ–Ω (+50)</span><label class="toggle-switch"><input type="checkbox" id="tl" onchange="recalcPrice()"><span class="slider"></span></label></div></div>`;
        }
        
        if(product.allowHotDogExtras) {
             html += `<div class="option-group"><label class="option-label">–î–æ–±–∞–≤–∫–∏</label>
            <div class="checkbox-row"><span>–°—ã—Ä (+150)</span><label class="toggle-switch"><input type="checkbox" id="hd-cheese" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–•–∞–ª–∞–ø–µ–Ω—å–æ (+150)</span><label class="toggle-switch"><input type="checkbox" id="hd-jalapeno" onchange="recalcPrice()"><span class="slider"></span></label></div>
            <div class="checkbox-row"><span>–ñ–∞—Ä–µ–Ω—ã–π –ª—É–∫ (+150)</span><label class="toggle-switch"><input type="checkbox" id="hd-onion" onchange="recalcPrice()"><span class="slider"></span></label></div></div>`;
        }

        // –°–∞—Ö–∞—Ä (–¥–ª—è –∫–æ—Ñ–µ –∏ —á–∞—è)
        if (product.cat === '–ö–æ—Ñ–µ' || product.cat === '–ß–∞–π') {
            html += `<div class="option-group"><label class="option-label">–°–∞—Ö–∞—Ä</label><input type="number" id="sug" placeholder="0" min="0"></div>`;
        }
        
        // –°–∏—Ä–æ–ø (–¢–û–õ–¨–ö–û –î–õ–Ø –ö–û–§–ï)
        if (product.cat === '–ö–æ—Ñ–µ') {
            let sOpts = SYRUPS.map(s=>`<option value="${s}">${s}</option>`).join('');
            html += `<div class="option-group"><label class="option-label">–°–∏—Ä–æ–ø (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ)</label><select id="syr" onchange="recalcPrice()">${sOpts}</select></div>`;
        }
        
        if(product.cat === '–ö–æ—Ñ–µ') {
             html += `<div class="checkbox-row"><span>–î–æ–ø. —à–æ—Ç (+300)</span><label class="toggle-switch"><input type="checkbox" id="esh" onchange="recalcPrice()"><span class="slider"></span></label></div>`;
        }

        html += `<div class="modal-footer"><button class="modal-add-btn" id="modal-btn" onclick="addComplexToCart()">–î–æ–±–∞–≤–∏—Ç—å</button></div>`;
        
        content.innerHTML = html;
        document.getElementById('product-modal').style.display = 'flex';
        recalcPrice();
    }

    function recalcPrice() {
        let p = 0;
        const prod = currentModalProduct;
        
        if(prod.hasVolumes) {
            const el = document.querySelector('input[name="vol"]:checked');
            if(el) p += prod.volumes[el.value].p;
        } else {
            p += (prod.basePrice !== undefined ? prod.basePrice : prod.price);
        }

        if(prod.hasMilk) {
            const el = document.querySelector('input[name="milk"]:checked');
            if(el && el.value === 'alt') p += 400;
        }
        
        if(document.getElementById('cm') && document.getElementById('cm').checked) p += PRICES.coffee_add_milk;
        if(document.getElementById('cc') && document.getElementById('cc').checked) p += PRICES.coffee_add_cream;
        if(document.getElementById('tm') && document.getElementById('tm').checked) p += PRICES.tea_add_milk;
        if(document.getElementById('tc') && document.getElementById('tc').checked) p += PRICES.tea_add_cream;
        if(document.getElementById('th') && document.getElementById('th').checked) p += PRICES.tea_add_honey;
        if(document.getElementById('tl') && document.getElementById('tl').checked) p += PRICES.tea_add_lemon;
        
        if(document.getElementById('hd-cheese') && document.getElementById('hd-cheese').checked) p += PRICES.hotdog_add_cheese;
        if(document.getElementById('hd-jalapeno') && document.getElementById('hd-jalapeno').checked) p += PRICES.hotdog_add_jalapeno;
        if(document.getElementById('hd-onion') && document.getElementById('hd-onion').checked) p += PRICES.hotdog_add_onion;
        
        if(document.getElementById('syr') && document.getElementById('syr').value !== "–ù–µ—Ç") p += PRICES.syrup;
        if(document.getElementById('esh') && document.getElementById('esh').checked) p += PRICES.extra_shot;

        const btn = document.getElementById('modal-btn');
        if(btn) {
            btn.innerText = `–î–æ–±–∞–≤–∏—Ç—å –∑–∞ ${p} ‚Ç∏`;
            btn.dataset.price = p;
        }
    }

    function addComplexToCart() {
        const btn = document.getElementById('modal-btn');
        if(!btn) return;
        const price = parseInt(btn.dataset.price);
        const opts = [];
        const prod = currentModalProduct;

        if(prod.hasVolumes) {
            const el = document.querySelector('input[name="vol"]:checked');
            if (el) opts.push(`–ü–æ—Ä—Ü–∏—è: ${prod.volumes[el.value].n}`);
        } else if (prod.fixedVolume) opts.push(`–û–±—ä–µ–º: ${prod.fixedVolume}`);

        if(prod.hasMilk) {
            const el = document.querySelector('input[name="milk"]:checked');
            if(el && el.value==='lf') opts.push("–ú–æ–ª–æ–∫–æ: –ë–µ–∑–ª–∞–∫—Ç.");
            if(el && el.value==='alt') opts.push("–ú–æ–ª–æ–∫–æ: –ê–ª—å—Ç–µ—Ä–Ω.");
        }

        if(document.getElementById('cm') && document.getElementById('cm').checked) opts.push("–î–æ–ø: –ú–æ–ª–æ–∫–æ");
        if(document.getElementById('cc') && document.getElementById('cc').checked) opts.push("–î–æ–ø: –°–ª–∏–≤–∫–∏");
        if(document.getElementById('tm') && document.getElementById('tm').checked) opts.push("–î–æ–ø: –ú–æ–ª–æ–∫–æ");
        if(document.getElementById('tc') && document.getElementById('tc').checked) opts.push("–î–æ–ø: –°–ª–∏–≤–∫–∏");
        if(document.getElementById('th') && document.getElementById('th').checked) opts.push("–î–æ–ø: –ú–µ–¥");
        if(document.getElementById('tl') && document.getElementById('tl').checked) opts.push("–î–æ–ø: –õ–∏–º–æ–Ω");

        if(document.getElementById('hd-cheese') && document.getElementById('hd-cheese').checked) opts.push("–î–æ–ø: –°—ã—Ä");
        if(document.getElementById('hd-jalapeno') && document.getElementById('hd-jalapeno').checked) opts.push("–î–æ–ø: –•–∞–ª–∞–ø–µ–Ω—å–æ");
        if(document.getElementById('hd-onion') && document.getElementById('hd-onion').checked) opts.push("–î–æ–ø: –ñ–∞—Ä–µ–Ω—ã–π –ª—É–∫");

        if(document.getElementById('sug')) {
            const s = document.getElementById('sug').value;
            opts.push(s ? `–°–∞—Ö–∞—Ä: ${s}` : "–ë–µ–∑ —Å–∞—Ö–∞—Ä–∞");
        }

        if(document.getElementById('syr')) {
            const syr = document.getElementById('syr').value;
            if(syr !== "–ù–µ—Ç") opts.push(`–°–∏—Ä–æ–ø: ${syr}`);
        }

        if(document.getElementById('esh') && document.getElementById('esh').checked) opts.push("–î–æ–ø. —à–æ—Ç");

        cart.push({ name: prod.name, price: price, options: opts, cat: prod.cat });
        // FIX: BUTTON RESET FOR IPHONE
        closeProductModal(true); 
        updateCartButton();
        tg.HapticFeedback.notificationOccurred('success');
        if (!upsellShown && (prod.cat === '–ö–æ—Ñ–µ' || prod.cat === '–ß–∞–π')) checkUpsell();
    }

    function closeProductModal(force) {
        if (force === true) {
            document.getElementById('product-modal').style.display = 'none';
            return;
        }
        const e = force; 
        if (e && e.target.id === 'product-modal') {
            document.getElementById('product-modal').style.display = 'none';
        }
    }
    
    function updateCartButton() {
        const btn = document.getElementById('cart-btn');
        if (cart.length > 0) {
            const total = cart.reduce((s, i) => s + i.price, 0);
            btn.style.display = 'block';
            btn.innerText = `–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑: ${total} ‚Ç∏`;
        } else btn.style.display = 'none';
    }

    function renderCartItems() {
        const c = document.getElementById('cart-list-container');
        c.innerHTML = '';
        cart.forEach((item, i) => {
            const vOpts = item.options ? item.options.filter(o=>o&&o!=="–ë–µ–∑ —Å–∞—Ö–∞—Ä–∞").join(', ') : '';
            c.innerHTML += `<div class="cart-item">
                <div class="cart-item-info"><div class="cart-item-title">${item.name}</div><div class="cart-item-opts">${vOpts}</div></div>
                <div class="cart-item-price">${item.price}</div>
                <div class="cart-del-btn" onclick="removeFromCart(${i})">‚úï</div>
            </div>`;
        });
    }

    function removeFromCart(i) { cart.splice(i, 1); renderCartItems(); updateCartButton(); calculateCheckoutTotal(); }
    
    function openCheckout() {
        if (cart.length === 0) return;
        if (!checkWorkingHours()) { alert("–ö–æ—Ñ–µ–π–Ω—è –∑–∞–∫—Ä—ã—Ç–∞"); return; }
        document.getElementById('checkout-modal').style.display = 'flex';
        loadUserData();
        if(tg.initDataUnsafe?.user && !document.getElementById('client-name').value) {
            document.getElementById('client-name').value = tg.initDataUnsafe.user.first_name;
        }
        renderCartItems();
        calculateCheckoutTotal();
    }
    function closeCheckout() { document.getElementById('checkout-modal').style.display = 'none'; }
    
    function toggleDelivery() {
        const isDel = document.getElementById('d-delivery').checked;
        document.getElementById('address-block').style.display = isDel ? 'block' : 'none';
        document.getElementById('delivery-msg').style.display = isDel ? 'block' : 'none';
        calculateCheckoutTotal();
    }
    function togglePayment() {
        const isCash = document.getElementById('p-cash').checked;
        document.getElementById('payment-phone-block').style.display = isCash ? 'none' : 'block';
    }
    function calculateCheckoutTotal() {
        const t = cart.reduce((s, i) => s + i.price, 0);
        document.getElementById('checkout-total-sum').innerText = `–ò—Ç–æ–≥–æ: ${t} ‚Ç∏`;
        return t;
    }

    function submitOrder() {
        const btn = document.getElementById('submit-btn');
        
        // Disable button to prevent double click
        btn.disabled = true;
        btn.innerText = "–û—Ç–ø—Ä–∞–≤–∫–∞...";

        const name = document.getElementById('client-name').value.trim();
        const phone = document.getElementById('client-phone').value.trim();
        const address = document.getElementById('delivery-address').value.trim();
        const delType = document.querySelector('input[name="deliveryType"]:checked').value;
        const payType = document.querySelector('input[name="paymentType"]:checked').value;
        const payPhone = document.getElementById('payment-phone').value.trim();
        const comment = document.getElementById('order-comment').value.trim();

        // Validation
        if (!name || !phone) {
            alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω");
            btn.disabled = false; btn.innerText = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑";
            return;
        }
        if (delType === 'delivery' && !address) {
            alert("–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏");
            btn.disabled = false; btn.innerText = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑";
            return;
        }
        if ((payType === 'Kaspi' || payType === 'Halyk') && !payPhone) {
            alert("–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä –¥–ª—è —Å—á–µ—Ç–∞");
            btn.disabled = false; btn.innerText = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑";
            return;
        }

        saveUserData(name, phone, address);

        const total = calculateCheckoutTotal();
        
        const orderData = {
            cart: cart, total: total,
            info: { name, phone, deliveryType: delType==='delivery'?'–î–æ—Å—Ç–∞–≤–∫–∞':'–°–∞–º–æ–≤—ã–≤–æ–∑', address, paymentType: payType, paymentPhone: payPhone, comment }
        };

        try {
            tg.sendData(JSON.stringify(orderData));
            
            // RESET STATE FOR IOS
            cart = [];
            updateCartButton();
            closeCheckout();
            
            // RE-ENABLE BUTTON
            btn.disabled = false;
            btn.innerText = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑";
            
            // CLOSE APP
            tg.close();
        } catch (e) {
            alert("–û—à–∏–±–∫–∞: " + e);
            btn.disabled = false;
            btn.innerText = "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑";
        }
    }

    function getImageByCategory(cat) {
        const map = { "–ö–æ—Ñ–µ": "https://cdn-icons-png.flaticon.com/512/751/751621.png", "–ó–∞–≤—Ç—Ä–∞–∫–∏": "https://cdn-icons-png.flaticon.com/512/2771/2771406.png", "–ö—Ä—É–∞—Å—Å–∞–Ω—ã": "https://cdn-icons-png.flaticon.com/512/3014/3014528.png", "–°–∞–ª–∞—Ç—ã": "https://cdn-icons-png.flaticon.com/512/2062/2062296.png", "–ß–∞–π": "https://cdn-icons-png.flaticon.com/512/3054/3054889.png", "–õ–∏–º–æ–Ω–∞–¥—ã": "https://cdn-icons-png.flaticon.com/512/2447/2447137.png", "–ö–æ–∫—Ç–µ–π–ª–∏": "https://cdn-icons-png.flaticon.com/512/3081/3081986.png", "–•–æ—Ç-–¥–æ–≥–∏": "https://cdn-icons-png.flaticon.com/512/1980/1980788.png", "–ü–∏—Ü—Ü–∞": "https://cdn-icons-png.flaticon.com/512/3132/3132693.png", "–ó–∞–∫—É—Å–∫–∏": "https://cdn-icons-png.flaticon.com/512/5787/5787016.png", "–°–µ–∑–æ–Ω–Ω–æ–µ": "https://cdn-icons-png.flaticon.com/512/4421/4421089.png", "–°–º—É–∑–∏": "https://cdn-icons-png.flaticon.com/512/1147/1147588.png", "–•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏": "https://cdn-icons-png.flaticon.com/512/956/956850.png", "–ü–∞—Å—Ç—ã": "https://cdn-icons-png.flaticon.com/512/3081/3081840.png" };
        return map[cat] || "https://cdn-icons-png.flaticon.com/512/751/751621.png";
    }

    try {
        renderMenu();
        setInterval(renderMenu, 60000);
    } catch (e) { alert(e); }
</script>
</body>
</html>
